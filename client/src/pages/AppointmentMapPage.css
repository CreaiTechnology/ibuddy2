.appointment-map-page {
  padding: 20px;
  max-width: 1400px;
  margin: 0 auto;
}

.map-page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.map-page-title h2 {
  margin: 0 0 8px 0;
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 24px;
  color: #333;
}

.map-page-title p {
  margin: 0;
  color: #6c757d;
  font-size: 16px;
}

.map-page-actions {
  display: flex;
  gap: 10px;
}

.back-to-calendar {
  display: flex;
  align-items: center;
  gap: 8px;
  text-decoration: none;
  color: #495057;
  padding: 8px 16px;
  border-radius: 4px;
  background-color: #f8f9fa;
  border: 1px solid #dee2e6;
  transition: all 0.2s ease;
}

.back-to-calendar:hover {
  background-color: #e9ecef;
  color: #212529;
}

/* 新增: 筛选器容器 */
.map-filters-container {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  margin-bottom: 20px;
  padding: 16px;
  background-color: #f8f9fa;
  border-radius: 8px;
  border: 1px solid #dee2e6;
}

.map-date-filter {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  /* 移除背景和边框，移到容器上 */
  /* margin-bottom: 20px; */
  /* padding: 16px; */
  /* background-color: #f8f9fa; */
  /* border-radius: 8px; */
  /* border: 1px solid #dee2e6; */
}

.date-filter-group {
  display: flex;
  align-items: center;
  gap: 10px;
}

.date-filter-group label {
  font-weight: 500;
  color: #495057;
}

.date-filter-group input {
  padding: 8px 12px;
  border: 1px solid #ced4da;
  border-radius: 4px;
  font-size: 14px;
}

/* 新增: 团队筛选样式 */
.map-team-filter {
  display: flex;
  align-items: center;
  gap: 10px;
}

.map-team-filter label {
  font-weight: 500;
  color: #495057;
  margin-left: 4px; /* 图标和文字间距 */
}

.map-team-filter select {
  padding: 8px 12px;
  border: 1px solid #ced4da;
  border-radius: 4px;
  font-size: 14px;
  min-width: 150px; /* 给下拉菜单一个最小宽度 */
  background-color: white;
}

.map-team-filter select:disabled {
  background-color: #e9ecef;
  cursor: not-allowed;
}

/* 打印按钮样式 */
.print-button {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  background-color: #28a745;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  transition: background-color 0.2s ease;
}

.print-button:hover {
  background-color: #218838;
}

.print-button:disabled {
  background-color: #7cc992;
  cursor: not-allowed;
}

.print-button svg {
  font-size: 16px;
}

.map-loading-container,
.map-error-container {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 300px;
  background-color: #fff;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.map-loading-spinner {
  border: 4px solid #f3f3f3;
  border-top: 4px solid #007bff;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
  margin-bottom: 16px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.map-error-container p {
  color: #dc3545;
  margin-bottom: 16px;
}

.map-error-container button {
  padding: 8px 16px;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s;
}

.map-error-container button:hover {
  background-color: #0069d9;
}

.map-container {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.map-info-panel {
  background-color: #fff;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  padding: 16px;
}

.map-info-panel h3 {
  margin-top: 0;
  margin-bottom: 12px;
  color: #343a40;
  font-size: 18px;
  border-bottom: 1px solid #dee2e6;
  padding-bottom: 8px;
}

.map-info-panel ul {
  padding-left: 20px;
  margin-bottom: 16px;
}

.map-info-panel li {
  margin-bottom: 8px;
  color: #495057;
}

.map-stats {
  display: flex;
  flex-wrap: wrap;
  gap: 24px;
  padding-top: 8px;
  border-top: 1px solid #dee2e6;
}

.map-stats p {
  margin: 0;
  color: #6c757d;
}

/* 响应式调整 */
@media (max-width: 768px) {
  .map-page-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }
  
  /* 更新: 筛选器容器在小屏幕下垂直排列 */
  .map-filters-container {
    flex-direction: column;
    gap: 15px;
  }

  .map-date-filter {
    flex-direction: column;
    gap: 12px;
    width: 100%;
  }
  
  .date-filter-group {
    flex-direction: column;
    align-items: flex-start;
    width: 100%;
  }
  
  .date-filter-group input {
    width: 100%;
    box-sizing: border-box; /* 确保 padding 不会使宽度溢出 */
  }

  /* 新增: 团队筛选器在小屏幕下占满宽度 */
  .map-team-filter {
    width: 100%;
  }

  .map-team-filter select {
    width: 100%;
    box-sizing: border-box;
  }
}

.filtered-count {
  font-size: 0.9em;
  color: #777;
  font-style: italic;
}

/* --- Appointment List Item Text Color Fix --- */

.appointment-map-page h4 { /* For the "Appointments (X total, Y on map)" title */
  color: #212529; 
}

.appointment-service-name,
.appointment-service-name span {
  color: #212529 !important; 
}

/* For the team name text, not the colored dot. 
   The dot has an inline style which will take precedence for the dot itself. 
   This rule targets the text content of the .appointment-team-name div. */
.appointment-team-name {
  color: #212529 !important; 
}

.geocode-failed-indicator,
.geocode-failed-indicator span {
  color: #212529 !important; 
}

/* If there are other general text elements within list items that need coloring, 
   you might need a more general selector for the list item container, e.g.:
.appointment-list-item-class-name, 
.appointment-list-item-class-name span,
.appointment-list-item-class-name div {
    color: #212529 !important;
}
*/
/* --- End Appointment List Item Text Color Fix --- */ 